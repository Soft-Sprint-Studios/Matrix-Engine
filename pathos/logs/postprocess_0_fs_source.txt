#version 460
#extension GL_ARB_texture_rectangle : enable

uniform sampler2DRect texture0;
uniform sampler2DRect depthbuffer;
uniform vec4 color;
uniform float screenwidth;
uniform float screenheight;

uniform float gamma;
in vec2 ps_texcoord;
out vec4 oColor;

void main()
{
	vec4 color = texture(texture0, ps_texcoord);
		for(int i = 0; i < 4; i++)
			oColor[i] = pow(color[i], 1.0/gamma);
	oColor *= sampler2DRect(depthbuffer);
}
